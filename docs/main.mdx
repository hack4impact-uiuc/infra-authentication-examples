---
name: Authentication Server
route: /
---



# Authentication Server


# Problem
Many of the nonprofits we work end up creating projects that have an authentication system. Often times, every team develops their own version of it, but many times cut corners in order to focus on the rest of the product and deliver in a timely fashion. This opens up many potential vulnerabilities in the implemented security system.

# Solution

We created an autogenerated authentication server that developers can customize and deploy on their own. Our cli tool will walk the developers through generating the necessary tokens and setting a custom configuration and then deploying the server. This means teams using the tool should never have to actually touch any code related to the authhnetication server, but are rather given out of the box endpoints that they can call and use. 



# Security Features


### (1) Refreshing Tokens
The tokens are encrypted and decrypted using JWT, but the code to encrypt and decrypt the tokens is refreshed every hour (or number set by the config file). Only the authentication server knows the updated token, such that it becomes the single source of truth to veryify a jwt token. This minimizes the risk of the token getting compromised as it isn't being sent between the client and server and is refreshed oftenly. 

### (2) Email Verification
If a user registers, they must verify their email during the registration process or later on. If the password is changed the user will get an email alerting them that the password was changed. 

### (3) Automatic Logout  
If a user is inactive for over an hour (or number set by the configuration file), they will be automatically logged out. This helps prevent attacks from people forgetting to log out. 

### (4) Roles Changing
Only users with a high enough permission level can see user under his or her permission level and promote/demote them. The roles heiarchy is easily configruable from the config.yml file.

### (5) Forgot Password
If the password is forgotten, it will either ask the user a preset security question, send them an email with a PIN, or require both security measures to be taken before a user can reset their password. 

### (6) Google Integration
A user can either choose to register with their gmail accounts or enter in their information 

### (7) Compatibility
Since the authentication server is independent, it is compatible withh any framework, language, or database you choose to run on your backend. 



# Getting Started


There are examples of a client and API on https://github.com/hack4impact-uiuc/infra-authentication-examples
And there is a authentication server on https://github.com/hack4impact-uiuc/infra-authentication-server
By following the README's on both the repositories and running it locally, you can test out the features of the authentication sever 

To deploy your own authentication server with your own credentials, use the commands below to install the cli tool and then walk through the setup process of creating your authentication server. This will help you generate your configuration file, generate your keys, and deploy your authentication server. 

```
npm i -g auth-infra
auth-infra setup
```

Once set up, you can either run it locally using ```npm run start``` along with the examples in https://github.com/hack4impact-uiuc/infra-authentication-examples to test the features out. 

The deployment instructions are on the readme for https://github.com/hack4impact-uiuc/infra-authentication-server

The next setps would be looking at the workflow pages, understanding how the endpoints work, and following the integration guide's beneath to integrate the features you want into your application. 